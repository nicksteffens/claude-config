import Controller from '@ember/controller';

export default class ApplicationController extends Controller {
  /**
   * Provides access to the `window`
   *
   * Accessing as a property allows for injecting something else for testing
   *
   * @type {typeof window}
   */
  window = window;

  /**
   * Detects whether the page is currently rendered in an `iframe`
   *
   * @see https://stackoverflow.com/a/326076/2250435
   * @type {boolean}
   */
  get renderedInIframe() {
    try {
      return this.window.self !== this.window.top;
    } catch (e) {
      // Account for `window.top` access being blocked for cross-origin security
      // If access was blocked, we know that we were in fact inside an `iframe`
      return true;
    }
  }

  get shouldDisplayGuideCenter() {
    return !this.renderedInIframe;
  }
}
